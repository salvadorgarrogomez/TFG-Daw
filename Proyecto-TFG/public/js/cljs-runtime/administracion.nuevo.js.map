{"version":3,"sources":["administracion/nuevo.cljs"],"mappings":";AAOA,GAAA,QAAAA,2CAAAC,iDAAAC;AAAA;AAAA,AAAA,AAASC,uCAAgB,gDAAA,hDAACC;;AAC1B,GAAA,QAAAJ,2CAAAC,iDAAAI;AAAA;AAAA,AAAA,AAASC,4CAAqB,gDAAA,hDAACF;;AAC/B,GAAA,QAAAJ,2CAAAC,iDAAAM;AAAA;AAAA,AAAA,AAASC,uCAAgB,gDAAA,hDAACJ;;AAC1B,GAAA,QAAAJ,2CAAAC,iDAAAQ;AAAA;AAAA,AAAA,AAASC,0CAAmB,gDAAA,hDAACN;;AAC7B,GAAA,QAAAJ,2CAAAC,iDAAAU;AAAA;AAAA,AAAA,AAASC,2CAAoB,gDAAA,hDAACR;;AAC9B,GAAA,QAAAJ,2CAAAC,iDAAAY;AAAA;AAAA,AAAA,AAASC,6CAAsB,gDAAA,hDAACV;;AAChC,GAAA,QAAAJ,2CAAAC,iDAAAc;AAAA;AAAA,AAAA,AAASC,+CAAwB,gDAAA,hDAACZ;;AAClC,GAAA,QAAAJ,2CAAAC,iDAAAgB;AAAA;AAAA,AAAA,AAASC,0CAAmB,gDAAA,hDAACd;;AAC7B,GAAA,QAAAJ,2CAAAC,iDAAAkB;AAAA;AAAA,AAAA,AAASC,8CAAuB,gDAAA,hDAAChB;;AACjC,GAAA,QAAAJ,2CAAAC,iDAAAoB;AAAA;AAAA,AAAA,AAASC,+CAAwB,gDAAA,hDAAClB;;AAElC,GAAA,QAAAJ,2CAAAC,iDAAAsB;AAAA;AAAA,AAAA,AAASC,wCAAiB,gDAAA,hDAACpB;;AAC3B,GAAA,QAAAJ,2CAAAC,iDAAAwB;AAAA;AAAA,AAAA,AAASC,6CAAsB,gDAAA,hDAACtB;;AAEhC,4CAAA,5CAAMuB,gGAAsBC;AAA5B,AACE,sBAAA,WAAAC,1BAACE;AAAD,AAAO,GAAM,AAACC,6CAAE,AAAA,gFAAAH,kBAAQD;AAAjB,AAAAC;;AAAA;;GAAP,AAAAC,gBAAgCG;;AAElC,yDAAA,zDAAMC,0HAA6BC;AAAnC,AACE,IAAAC,aAAoB,yDAAA,zDAACI,mDAAqBL;QAA1C,AAAAE,4CAAAD,WAAA,IAAA,/DAAOE;gBAAP,AAAAD,4CAAAD,WAAA,IAAA,vEAASG;AAAT,AACE,IAAAE,oBAAKF;AAAL,AAAA,oBAAAE;AAAe,qCAAA,7BAAG,AAACC,gBAAMH;;AAAzBE;;;AAEJ,4BAAA,5BAAME;AAAN,AACE,GAAI,AAACC;AACH,IAAMC,SAAO,+CAAA,AAAAf,yCAAA,mFAAA,kEAAA,7OAACgB,+DAAQC;IAChBC,OAAK,AAAA,kFAAOH;IACZI,aAAW,qBAAA,rBAACC;AAFlB,AAGE,IAAAC,WAAMH;AAAN,AAAA,QAAAG;KAAA;AAAA,0FAAA,0DAAA,2CAAA,wDAAA,mBAAA,mFAAA,gEAAA,2CAAA,wDAAA,sBAAA,mFAAA,yDAAA,2CAAA,6DAAA;AAAA,AAKiB,wBAAA,hBAAM,AAAQc;WAL/B,yDAAA,oFAAA,kFAAA,2CAAA,wDAAA,yBAAA,mFAAA,kDAAA,gDAAA,mFAAA,mDAAA,mFAAA,8CAAA,2CAAA,oDAAA,iBAAA,wBAAA,mFAAA,sDAAA,2CAAA,qDAAA,OAAA,kDAAA,SAAA,sDAAA,AAAAnC,sDAAA,+DAAA,WAAAsB,hHAauBjD;AAbvB,AAc2B,OAAC+D,sBAAO/D,qCAAgB,AAAA,AAAAiD;mCAdnD,mFAAA,mDAAA,mFAAA,8CAAA,2CAAA,oDAAA,sBAAA,qBAAA,mFAAA,sDAAA,2CAAA,qDAAA,OAAA,kDAAA,cAAA,sDAAA,AAAAtB,2DAAA,+DAAA,WAAAuB,rHAmBuB/C;AAnBvB,AAoB2B,OAAC4D,sBAAO5D,0CAAqB,AAAA,AAAA+C;mCApBxD,mFAAA,mDAAA,mFAAA,8CAAA,2CAAA,oDAAA,iBAAA,UAAA,mFAAA,sDAAA,2CAAA,qDAAA,SAAA,kDAAA,SAAA,sDAAA,AAAAvB,sDAAA,+DAAA,WAAAwB,hHAyBuB9C;AAzBvB,AA0B2B,OAAC0D,sBAAO1D,qCAAgB,AAAA,AAAA8C;mCA1BnD,mFAAA,mDAAA,mFAAA,8CAAA,2CAAA,oDAAA,uBAAA,aAAA,mFAAA,yDAAA,2CAAA,sDA6BuB,iBAAAa,mBAAA,AAAArC,gBAAKpB;AAAL,AAAA,oBAAAyD;AAAAA;;AAAA;;KA7BvB,kDAAA,eAAA,+DAAA,WAAAZ;AAAA,AA+B4B,OAACW,sBAAOxD,wCAAmB,AAAA,AAAA6C;WA/BvD,mFAAA,uDAAA,2CAAA,sDAAA,WAAA,8CAiCO,iBAAAa,qBAAA,kDAAAC;AAAA,AAAA,YAAAC,kBAAA,KAAA;AAAA,AAAA,IAAAD,eAAAA;;AAAA,AAAA,IAAAE,qBAAA,AAAAC,cAAAH;AAAA,AAAA,GAAAE;AAAA,AAAA,IAAAF,eAAAE;AAAA,AAAA,GAAA,AAAAE,6BAAAJ;AAAA,IAAAK,kBAm5EsC,AAAA0B,sBAAA/B;IAn5EtCM,qBAAA,AAAAjC,gBAAAgC;IAAAE,WAAA,AAAAC,uBAAAF;AAAA,AAAA,GAAA,AAAA,iBAAAG,WAAA;;AAAA,AAAA,GAAA,CAAAA,WAAAH;AAAA,IAAAI,aAAA,AAAAC,eAAAN,gBAAAI;IAAAC,iBAAA,AAAAE,4BAAAF;SAAA,AAAAG,4CAAAH,eAAA,hEAAcnD;aAAd,AAAAsD,4CAAAH,eAAA,pEAAiBa;AAAjB,AAAA,AAAA,AAAAT,uBAAAP,SAAA,oBAAA,mFAAA,uDAAA,2CAAA,8LAAA,2CAAA,oDACShD,vOAAqBA,WAAI,iDAAA,JAAKA,sDAASgE;;AADhD,eAAA,CAAAd,WAAA;;;;AAAA;;;;;AAAA,OAAAM,qBAAA,AAAAC,gBAAAT,UAAA,AAAAU,wCAAA,AAAAC,qBAAAlB;;AAAA,OAAAe,qBAAA,AAAAC,gBAAAT,UAAA;;;AAAA,IAAAY,aAAA,AAAAC,gBAAApB;IAAAmB,iBAAA,AAAAP,4BAAAO;SAAA,AAAAN,4CAAAM,eAAA,hEAAc5D;aAAd,AAAAsD,4CAAAM,eAAA,pEAAiBI;AAAjB,AAAA,OAAAF,eAAA,oBAAA,mFAAA,uDAAA,2CAAA,8LAAA,2CAAA,gEAAA,AAAAJ,wCAAA,AAAAK,eAAAtB,nEACSzC,vOAAqBA,WAAI,iDAAA,JAAKA,sDAASgE;;;AADhD;;;;GAAA,KAAA;;AAAA,AAAA,OAAAxB,mBAAA,AAAAtC,gBAA2BG;6BAjClC,mFAAA,mDAAA,mFAAA,8CAAA,2CAAA,oDAAA,qBAAA,iBAAA,mFAAA,yDAAA,2CAAA,sDAqCuB,iBAAAkC,mBAAA,AAAArC,gBAAKlB;AAAL,AAAA,oBAAAuD;AAAAA;;AAAA;;KArCvB,kDAAA,aAAA,+DAAA,WAAAX;AAAA,AAuC4B,OAACU,sBAAOtD,yCAAoB,AAAA,AAAA4C;WAvCxD,mFAAA,uDAAA,2CAAA,sDAAA,WAAA,4CAAA,mFAAA,uDAAA,2CAAA,sDAAA,eAAA,eAAA,mFAAA,uDAAA,2CAAA,sDAAA,oBAAA,oBAAA,mFAAA,uDAAA,2CAAA,sDAAA,oBAAA,oBAAA,mFAAA,uDAAA,2CAAA,sDAAA,kBAAA,0CAAA,mFAAA,mDAAA,mFAAA,8CAAA,2CAAA,oDAAA,uBAAA,mBAAA,mFAAA,yDAAA,2CAAA,sDA+CuB,iBAAAW,mBAAA,AAAArC,gBAAKhB;AAAL,AAAA,oBAAAqD;AAAAA;;AAAA;;KA/CvB,kDAAA,eAAA,+DAAA,WAAAV;AAAA,AAiD4B,OAACS,sBAAOpD,2CAAsB,AAAA,AAAA2C;WAjD1D,mFAAA,uDAAA,2CAAA,sDAAA,WAAA,8CAAA,mFAAA,uDAAA,2CAAA,sDAAA,qBAAA,qBAAA,mFAAA,uDAAA,2CAAA,sDAAA,4BAAA,4BAAA,mFAAA,uDAAA,2CAAA,sDAAA,+BAAA,uDAAA,mFAAA,iDAAA,mFAAA,wDAAA,+CAAA,mFAAA,mDAAA,mFAAA,8CAAA,2CAAA,oDAAA,yBAAA,2BAAA,mFAAA,yDAAA,2CAAA,sDAyDuB,iBAAAU,mBAAA,AAAArC,gBAAKd;AAAL,AAAA,oBAAAmD;AAAAA;;AAAA;;KAzDvB,kDAAA,iBAAA,+DAAA,WAAAT;AAAA,AA2D4B,OAACQ,sBAAOlD,6CAAwB,AAAA,AAAA0C;WA3D5D,mFAAA,uDAAA,2CAAA,sDAAA,WAAA,2CAAA,mFAAA,uDAAA,2CAAA,sDAAA,eAAA,kBAAA,mFAAA,uDAAA,2CAAA,sDAAA,gBAAA,qCAAA,mFAAA,mDAAA,mFAAA,8CAAA,2CAAA,oDAAA,oBAAA,sBAAA,mFAAA,yDAAA,2CAAA,sDAiEuB,iBAAAS,mBAAA,AAAArC,gBAAKZ;AAAL,AAAA,oBAAAiD;AAAAA;;AAAA;;KAjEvB,kDAAA,YAAA,+DAAA,WAAAR;AAAA,AAmE4B,OAACO,sBAAOhD,wCAAmB,AAAA,AAAAyC;WAnEvD,mFAAA,uDAAA,2CAAA,sDAAA,WAAA,2CAAA,mFAAA,uDAAA,2CAAA,sDAAA,eAAA,kBAAA,mFAAA,uDAAA,2CAAA,sDAAA,gBAAA,qCAAA,mFAAA,mDAAA,mFAAA,8CAAA,2CAAA,oDAAA,wBAAA,0BAAA,mFAAA,yDAAA,2CAAA,sDAyEuB,iBAAAQ,mBAAA,AAAArC,gBAAKV;AAAL,AAAA,oBAAA+C;AAAAA;;AAAA;;KAzEvB,kDAAA,gBAAA,+DAAA,WAAAP;AAAA,AA2E4B,OAACM,sBAAO9C,4CAAuB,AAAA,AAAAwC;WA3E3D,mFAAA,uDAAA,2CAAA,sDAAA,WAAA,2CAAA,mFAAA,uDAAA,2CAAA,sDAAA,eAAA,kBAAA,mFAAA,uDAAA,2CAAA,sDAAA,gBAAA,qCAAA,mFAAA,mDAAA,mFAAA,8CAAA,2CAAA,oDAAA,yBAAA,2BAAA,mFAAA,yDAAA,2CAAA,sDAiFuB,iBAAAO,mBAAA,AAAArC,gBAAKR;AAAL,AAAA,oBAAA6C;AAAAA;;AAAA;;KAjFvB,kDAAA,iBAAA,+DAAA,WAAAN;AAAA,AAmF4B,OAACK,sBAAO5C,6CAAwB,AAAA,AAAAuC;WAnF5D,mFAAA,uDAAA,2CAAA,sDAAA,WAAA,2CAAA,mFAAA,uDAAA,2CAAA,sDAAA,eAAA,kBAAA,mFAAA,uDAAA,2CAAA,sDAAA,gBAAA,qCAAA,mFAAA,mDAAA,mFAAA,yDAAA,2CAAA,6DAAA;AAAA,AAwF0B,IAAMgC,aAAW,WAAA,AAAA/D,XAACgE,2BAAetF;AAAjC,AACE,oBACE,iBAAA2D,mBAAI,AAAC4B,MAASF;AAAd,AAAA,oBAAA1B;AAAAA;;AACI,qBAAA,bAAG0B;;;AACP,aAAA,NAACG;;AAHH,oBAIE,uDAAA,AAAAlE,vDAACI,uEAA6B1B;AAC9B,aAAA,NAACwF;;AALH,AAOE,AACE,yBAAA,wCAAA,wEAAA,oEAAA,qEAAA,qEAAA,0DAAA,kEAAA,uEAAA,+DAAA,yDAAA,kEAAA,0EAAA,AAAAlE,8DAAA,AAAAA,2DAAA,AAAAA,4DAAA,AAAAA,yDAAA,AAAAA,2EAAA,AAAAA,6DAAA,AAAAA,yDAAA,AAAAA,sDAAA,AAAAA,0DAAA,AAAAA,7zCAACmE,6tCAA4B9F,jXACKG,gLACLE,zDACME,gTACFE,5WACEE,zHACEE,sXACLE,7DACIE,sOACCE,3QACL,AAAC4E,SAAYjD;;AAC7C,2DAAA,3DAACiB,sBAAO/D;;AACR,gEAAA,hEAAC+D,sBAAO5D;;AACR,2DAAA,3DAAC4D,sBAAO1D;;AACR,8DAAA,9DAAC0D,sBAAOxD;;AACR,+DAAA,/DAACwD,sBAAOtD;;AACR,iEAAA,jEAACsD,sBAAOpD;;AACR,mEAAA,nEAACoD,sBAAOlD;;AACR,8DAAA,9DAACkD,sBAAOhD;;AACR,kEAAA,lEAACgD,sBAAO9C;;AACR,0EAAA,nEAAC8C,sBAAO5C;;;;WArHxC;;;KAAA;AAAA,0FAAA,0DAAA,2CAAA,wDAAA,mBAAA,mFAAA,gEAAA,2CAAA,wDAAA,sBAAA,mFAAA,yDAAA,2CAAA,6DAAA;AAAA,AA6HiB,wBAAA,hBAAM,AAAQ2C;WA7H/B,yDAAA,mFAAA,kFAAA,2CAAA,wDAAA,yBAAA,mFAAA,kDAAA,wDAAA,mFAAA,mDAAA,mFAAA,8CAAA,2CAAA,oDAAA,iBAAA,+BAAA,mFAAA,sDAAA,2CAAA,qDAAA,OAAA,kDAAA,SAAA,sDAAA,AAAAnC,uDAAA,+DAAA,WAAAgC,jHAqIuBtC;AArIvB,AAsI2B,OAAC0C,sBAAO1C,sCAAiB,AAAA,AAAAsC;mCAtIpD,mFAAA,mDAAA,mFAAA,8CAAA,2CAAA,oDAAA,sBAAA,oBAAA,mFAAA,sDAAA,2CAAA,qDAAA,OAAA,kDAAA,cAAA,sDAAA,AAAAhC,4DAAA,+DAAA,WAAAiC,tHA2IuBrC;AA3IvB,AA4I2B,OAACwC,sBAAOxC,2CAAsB,AAAA,AAAAqC;mCA5IzD,mFAAA,mDAAA,mFAAA,yDAAA,2CAAA,6DAAA;AAAA,AA8I0B,AACE,0BAAA,2CAAA,yDAAA,AAAAjC,uDAAA,oEAAA,AAAAA,4DAAA,rTAACqE,8IAA6B3E,2HACKE,8GACF,AAACwE,SAAYjD;;AAC9C,4DAAA,5DAACiB,sBAAO1C;;AACR,wEAAA,jEAAC0C,sBAAOxC;WAnJpC;;;;AAAA,MAAA,KAAAsC,MAAA,CAAA,mEAAAb;;;;AAJJ,0FAAA,yFAAA,mFAAA,iDAAA,uCAAA,mFAAA,8CAAA,4FAAA,mFAAA,yDAAA,2CAAA,6DAAA;AAAA,AA6JgB,wBAAA,hBAAM,AAAQc;WA7J9B","names":["js/administracion","js/administracion.nuevo","js/administracion.nuevo.nombre-producto","administracion.nuevo/nombre-producto","reagent.core.atom","js/administracion.nuevo.descripcion-producto","administracion.nuevo/descripcion-producto","js/administracion.nuevo.precio-producto","administracion.nuevo/precio-producto","js/administracion.nuevo.categoria-producto","administracion.nuevo/categoria-producto","js/administracion.nuevo.tipo_plato-producto","administracion.nuevo/tipo_plato-producto","js/administracion.nuevo.tipo_porcion-producto","administracion.nuevo/tipo_porcion-producto","js/administracion.nuevo.es_vegetariano-producto","administracion.nuevo/es_vegetariano-producto","js/administracion.nuevo.es_vegano-producto","administracion.nuevo/es_vegano-producto","js/administracion.nuevo.es_sin_gluten-producto","administracion.nuevo/es_sin_gluten-producto","js/administracion.nuevo.es_sin_lactosa-producto","administracion.nuevo/es_sin_lactosa-producto","js/administracion.nuevo.nombre-categoria","administracion.nuevo/nombre-categoria","js/administracion.nuevo.descripcion-categoria","administracion.nuevo/descripcion-categoria","administracion.nuevo/get-categoria-por-id","id","p1__18957#","cljs.core/deref","cljs.core/some","cljs.core._EQ_","app.db/categorias","administracion.nuevo/tiene-mas-de-dos-decimales?","valor","vec__18975","cljs.core.nth","_","decimales","clojure.string.split","and__5000__auto__","cljs.core/count","administracion.nuevo/page","app.state/rol-admin?","params","cljs.core.get_in","app.state/current-route","tipo","usuario-id","js/localStorage.getItem","G__19008","p1__18978#","p1__18980#","p1__18981#","p1__18982#","p1__18983#","p1__18984#","p1__18985#","p1__18990#","p1__18992#","p1__18994#","p1__18998#","p1__18999#","js/Error","js/location","cljs.core/reset!","or__5002__auto__","iter__5480__auto__","s__19014","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","b__19016","cljs.core/chunk-buffer","i__19015","map__19027","cljs.core/-nth","cljs.core/--destructure-map","cljs.core.get","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__19013","cljs.core/chunk-rest","map__19033","cljs.core/first","cljs.core/cons","cljs.core/rest","nombre","precio-num","js/parseFloat","js/isNaN","js/alert","app.db/insertar-producto","js/parseInt","app.db/insertar-categoria","cljs.core/chunk-first"],"sourcesContent":["(ns administracion.nuevo\r\n  (:require [reagent.core :as r]\r\n            [reagent.dom :as dom]\r\n            [app.state :as state]\r\n            [app.state :refer [current-route]]\r\n            [app.db :refer [insertar-categoria insertar-producto categorias]]))\r\n\r\n(defonce nombre-producto (r/atom \"\"))\r\n(defonce descripcion-producto (r/atom \"\"))\r\n(defonce precio-producto (r/atom \"\"))\r\n(defonce categoria-producto (r/atom \"\"))\r\n(defonce tipo_plato-producto (r/atom \"\"))\r\n(defonce tipo_porcion-producto (r/atom \"\"))\r\n(defonce es_vegetariano-producto (r/atom \"\"))\r\n(defonce es_vegano-producto (r/atom \"\"))\r\n(defonce es_sin_gluten-producto (r/atom \"\"))\r\n(defonce es_sin_lactosa-producto (r/atom \"\"))\r\n\r\n(defonce nombre-categoria (r/atom \"\"))\r\n(defonce descripcion-categoria (r/atom \"\"))\r\n\r\n(defn get-categoria-por-id [id]\r\n  (some #(when (= (:id %) id) %) @categorias))\r\n\r\n(defn tiene-mas-de-dos-decimales? [valor]\r\n  (let [[_ decimales] (clojure.string/split valor #\"\\.\")]\r\n    (and decimales (> (count decimales) 2))))\r\n\r\n(defn page []\r\n  (if (state/rol-admin?)\r\n    (let [params (get-in @current-route [:parameters :path])\r\n          tipo (:tipo params)\r\n          usuario-id (js/localStorage.getItem \"id\")]\r\n      (case tipo\r\n        \"producto\"\r\n        [:div.row {:class \"divNuevo\"}\r\n         [:div.col-12 {:class \"volverAtras\"}\r\n          [:button\r\n           {:on-click #(set! (.-hash js/location) \"#/administracion\")}\r\n           \"Volver al panel de Administraci\u00f3n\"]]\r\n         [:div.col-12.col-md-6 {:class \"divDatosNuevos\"}\r\n          [:h1 \"Inserta los datos del nuevo producto:\"]\r\n          [:div \r\n           [:p {:for \"nombre\"} \"Nombre del producto: \"\r\n            [:input {:type \"text\"\r\n                     :id \"nombre\"\r\n                     :value @nombre-producto\r\n                     :on-change #(reset! nombre-producto (-> % .-target .-value))}]]]\r\n          [:div \r\n           [:p {:for \"description\"} \"Descripci\u00f3n: \"\r\n            [:input {:type \"text\"\r\n                     :id \"description\"\r\n                     :value @descripcion-producto\r\n                     :on-change #(reset! descripcion-producto (-> % .-target .-value))}]]]\r\n          [:div \r\n           [:p {:for \"precio\"} \"Precio:\"\r\n            [:input {:type \"number\"\r\n                     :id \"precio\"\r\n                     :value @precio-producto\r\n                     :on-change #(reset! precio-producto (-> % .-target .-value))}]]]\r\n          [:div \r\n           [:p {:for \"categoria_id\"} \"Categoria:\"\r\n            [:select {:value (or @categoria-producto \"\")\r\n                      :id \"categoria_id\"\r\n                      :on-change #(reset! categoria-producto (-> % .-target .-value))}\r\n             [:option {:value \"\"} \"-- Selecciona una categor\u00eda --\"]\r\n             (for [{:keys [id nombre]} @categorias]\r\n               ^{:key id} [:option {:value id} (str id \" - \" nombre)])]]]\r\n          [:div \r\n           [:p {:for \"tipo_plato\"} \"Tipo de plato:\"\r\n            [:select {:value (or @tipo_plato-producto \"\")\r\n                      :id \"tipo_plato\"\r\n                      :on-change #(reset! tipo_plato-producto (-> % .-target .-value))}\r\n             [:option {:value \"\"} \"-- Selecciona un tipo de plato --\"]\r\n             [:option {:value \"Tapa\"} \"Tapa\"]\r\n             [:option {:value \"Al centro\"} \"Al centro\"]\r\n             [:option {:value \"Principal\"} \"Principal\"]\r\n             [:option {:value \"Postres\"} \"Postres\"]]]]\r\n          [:div \r\n           [:p {:for \"tipo_porcion\"} \"Tipo de porcion:\"\r\n            [:select {:value (or @tipo_porcion-producto \"\")\r\n                      :id \"tipo_porcion\"\r\n                      :on-change #(reset! tipo_porcion-producto (-> % .-target .-value))}\r\n             [:option {:value \"\"} \"-- Selecciona un tipo de porcion --\"]\r\n             [:option {:value \"Por unidad\"} \"Por unidad\"]\r\n             [:option {:value \"Media raci\u00f3n\"} \"Media raci\u00f3n\"]\r\n             [:option {:value \"Raci\u00f3n completa\"} \"Raci\u00f3n completa\"]]]]\r\n          [:h3 [:strong \"Restricciones alimentarias: \"]]\r\n          [:div \r\n           [:p {:for \"es_vegetariano\"} \"El plato es vegetariano?\"\r\n            [:select {:value (or @es_vegetariano-producto \"\")\r\n                      :id \"es_vegetariano\"\r\n                      :on-change #(reset! es_vegetariano-producto (-> % .-target .-value))}\r\n             [:option {:value \"\"} \"-- Selecciona una opci\u00f3n --\"]\r\n             [:option {:value \"true\"} \"S\u00ed\"]\r\n             [:option {:value \"false\"} \"No\"]]]]\r\n          [:div \r\n           [:p {:for \"es_vegano\"} \"El plato es vegano?\"\r\n            [:select {:value (or @es_vegano-producto \"\")\r\n                      :id \"es_vegano\"\r\n                      :on-change #(reset! es_vegano-producto (-> % .-target .-value))}\r\n             [:option {:value \"\"} \"-- Selecciona una opci\u00f3n --\"]\r\n             [:option {:value \"true\"} \"S\u00ed\"]\r\n             [:option {:value \"false\"} \"No\"]]]]\r\n          [:div \r\n           [:p {:for \"es_sin_gluten\"} \"El plato es con gluten?\"\r\n            [:select {:value (or @es_sin_gluten-producto \"\")\r\n                      :id \"es_sin_gluten\"\r\n                      :on-change #(reset! es_sin_gluten-producto (-> % .-target .-value))}\r\n             [:option {:value \"\"} \"-- Selecciona una opci\u00f3n --\"]\r\n             [:option {:value \"true\"} \"S\u00ed\"]\r\n             [:option {:value \"false\"} \"No\"]]]]\r\n          [:div \r\n           [:p {:for \"es_sin_lactosa\"} \"El plato es con lactosa?\"\r\n            [:select {:value (or @es_sin_lactosa-producto \"\")\r\n                      :id \"es_sin_lactosa\"\r\n                      :on-change #(reset! es_sin_lactosa-producto (-> % .-target .-value))}\r\n             [:option {:value \"\"} \"-- Selecciona una opci\u00f3n --\"]\r\n             [:option {:value \"true\"} \"S\u00ed\"]\r\n             [:option {:value \"false\"} \"No\"]]]]\r\n          [:div \r\n           [:button {:on-click #(let [precio-num (js/parseFloat @precio-producto)]\r\n                                  (cond\r\n                                    (or (js/isNaN precio-num)\r\n                                        (< precio-num 0))\r\n                                    (js/alert \"El precio debe ser un n\u00famero mayor o igual que 0\")\r\n                                    (tiene-mas-de-dos-decimales? @precio-producto)\r\n                                    (js/alert \"El precio solo puede tener hasta dos decimales\")\r\n                                    :else\r\n                                    (do\r\n                                      (insertar-producto {:nombre @nombre-producto\r\n                                                          :description @descripcion-producto\r\n                                                          :precio @precio-producto\r\n                                                          :categoria_id @categoria-producto\r\n                                                          :tipo_plato @tipo_plato-producto\r\n                                                          :tipo_porcion @tipo_porcion-producto\r\n                                                          :es_vegetariano @es_vegetariano-producto\r\n                                                          :es_vegano @es_vegano-producto\r\n                                                          :es_sin_gluten @es_sin_gluten-producto\r\n                                                          :es_sin_lactosa @es_sin_lactosa-producto\r\n                                                          :usuario_id (js/parseInt usuario-id)})\r\n                                      (reset! nombre-producto \"\")\r\n                                      (reset! descripcion-producto \"\")\r\n                                      (reset! precio-producto \"\")\r\n                                      (reset! categoria-producto \"\")\r\n                                      (reset! tipo_plato-producto \"\")\r\n                                      (reset! tipo_porcion-producto \"\")\r\n                                      (reset! es_vegetariano-producto \"\")\r\n                                      (reset! es_vegano-producto \"\")\r\n                                      (reset! es_sin_gluten-producto \"\")\r\n                                      (reset! es_sin_lactosa-producto \"\"))))}\r\n            \"Crear producto\"]]]]\r\n\r\n\r\n        \"categoria\"\r\n        [:div.row {:class \"divNuevo\"}\r\n         [:div.col-12 {:class \"volverAtras\"}\r\n          [:button\r\n           {:on-click #(set! (.-hash js/location) \"#/administracion\")}\r\n           \"Volver al panel de Administraci\u00f3n\"]]\r\n         [:div.col-12.col-md-6 {:class \"divDatosNuevos\"}\r\n          [:h1 \"Inserta los datos de la nueva categor\u00eda:\"]\r\n          [:div \r\n           [:p {:for \"nombre\"} \"Nombre de la categor\u00eda:\"\r\n            [:input {:type \"text\"\r\n                     :id \"nombre\"\r\n                     :value @nombre-categoria\r\n                     :on-change #(reset! nombre-categoria (-> % .-target .-value))}]]]\r\n          [:div \r\n           [:p {:for \"descripcion\"} \"Descripci\u00f3n:\"\r\n            [:input {:type \"text\"\r\n                     :id \"descripcion\"\r\n                     :value @descripcion-categoria\r\n                     :on-change #(reset! descripcion-categoria (-> % .-target .-value))}]]]\r\n          [:div \r\n           [:button {:on-click #(do\r\n                                  (insertar-categoria {:nombre @nombre-categoria\r\n                                                       :descripcion @descripcion-categoria\r\n                                                       :usuario_id (js/parseInt usuario-id)})\r\n                                  (reset! nombre-categoria \"\")\r\n                                  (reset! descripcion-categoria \"\"))}\r\n            \"Crear Categor\u00eda\"]]]]))\r\n    [:div.alert.alert-danger\r\n     [:h4 \"\u26a0\ufe0f Acceso denegado\"]\r\n     [:p \"Para acceder a esta seccion, debes logearte y acceder desde su boton determinado.\"]\r\n     [:button\r\n      {:on-click #(set! (.-hash js/location) \"#/administracion\")}\r\n      \"LOGIN\"]]))\r\n"]}