{"version":3,"sources":["categorias/core.cljs"],"mappings":"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","names":["categorias.core/obtener-productos","categoria-id","js/console.log","app.db/fetch-productos","categorias.core/agrupar-productos","productos","cljs.core.reduce","acc","producto","nombre","cljs.core.update","cljs.core/conj","categorias.core/mensaje-categoria","reagent.core.atom","categorias.core/obtener-descripcion-categoria","categoria","p1__18931#","cljs.core/deref","cljs.core/some","cljs.core._EQ_","app.db/categorias","cljs.core.get","categorias.core/obtener-mensaje-categoria","descripcion","cljs.core/not-empty","categorias.core/page","reagent.core.create_class","app.db/fetch-categorias","iter__5480__auto__","s__18963","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__18965","cljs.core/chunk-buffer","i__18964","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__18962","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","cljs.core/reset!","cljs.core/empty?","s__19004","b__19006","i__19005","iter__19003","app.db/productos","productos-agrupados","s__19030","b__19032","i__19031","vec__19040","cljs.core.nth","iter__19029","vec__19070","lista-productos","primer-producto","descripcion-limpia","clojure.string/trim","s__19051","b__19053","i__19052","iter__19050","s__19076","b__19078","i__19077","iter__19075","tipo-porcion","producto-id","js/alert","categorias.core/init","reagent.dom.render","js/document","cljs.core/chunk-first"],"sourcesContent":["(ns categorias.core\r\n  (:require [reagent.core :as r]\r\n            [reagent.dom :as dom]\r\n            [app.db :refer [categorias fetch-categorias fetch-productos productos]]\r\n            [clojure.string :as str]))\r\n\r\n(defn obtener-productos [categoria-id]\r\n  (js/console.log \"Obteniendo productos para la categor\u00eda\" categoria-id)\r\n  (fetch-productos categoria-id))\r\n\r\n(defn agrupar-productos [productos]\r\n  (reduce (fn [acc producto]\r\n            (let [nombre (:nombre producto)]\r\n              (update acc nombre conj producto)))\r\n          {} productos))\r\n\r\n(def mensaje-categoria (r/atom \"\")) \r\n\r\n(defn obtener-descripcion-categoria [categoria-id]\r\n  (let [categoria (some #(when (= (:id %) categoria-id) %) @categorias)]\r\n    (get categoria :descripcion)))\r\n\r\n(defn obtener-mensaje-categoria [categoria-id]\r\n  (let [descripcion (obtener-descripcion-categoria categoria-id)]\r\n    (if (not-empty descripcion)\r\n      descripcion)))\r\n\r\n(defn page []\r\n  (r/create-class\r\n   {:component-did-mount\r\n    (fn []\r\n      (js/console.log \"Componente montado. Llamando a fetch-categorias...\")\r\n      (fetch-categorias))\r\n    :reagent-render\r\n    (fn []\r\n      [:div.row {:class \"divProductosyCategorias\"}\r\n       [:div.col-12.d-block.d-sm-none\r\n        [:div.dropdown\r\n         [:button.navbar-toggler.dropdown-toggle.desplegable\r\n          {:type \"button\"\r\n           :data-toggle \"dropdown\"\r\n           :aria-expanded \"false\"\r\n           :aria-controls \"dropdown-categorias\"}\r\n          [:span.navbar-toggler-icon.me-2]\r\n          \"Selecciona una categoria de la carta\"]\r\n\r\n         [:div.dropdown-menu {:id \"dropdown-categorias\"}\r\n          (for [categoria @categorias]\r\n            ^{:key (:id categoria)}\r\n            [:a.dropdown-item\r\n             {:style {:cursor \"pointer\"}\r\n              :on-click #(do\r\n                           (obtener-productos (:id categoria))\r\n                           (reset! mensaje-categoria (obtener-mensaje-categoria (:id categoria))))}\r\n             (:nombre categoria)])]]]\r\n\r\n\r\n       ;; Contenedor de botones (Categor\u00edas)\r\n       [:div.col-12.d-none.d-sm-block {:class \"divButtons\"}\r\n        (if (empty? @categorias)\r\n          [:p \"Cargando categor\u00edas...\"]\r\n          [:div {:class \"buttonCategoria\"}\r\n           (for [categoria @categorias]\r\n             ^{:key (:id categoria)}\r\n             [:button {:on-click #(do\r\n                                    (obtener-productos (:id categoria))\r\n                                    (reset! mensaje-categoria (obtener-mensaje-categoria (:id categoria))))\r\n                       :class \"buttons\"}\r\n              (:nombre categoria)])])]\r\n\r\n       [:div.col-12 {:class \"mensaje-categoria\"}\r\n        (if (not-empty @mensaje-categoria)\r\n          [:p @mensaje-categoria] \"Selecciona uno de los elementos de nuestra carta.\")]\r\n\r\n       ;; Bloque de productos\r\n       [:div.row\r\n        [:div.col-12 {:class \"divProductos\"}\r\n         (if (empty? @productos)\r\n           [:p.col-12]\r\n           [:ul.row {:class \"productosUL\"}\r\n            (let [productos-agrupados (agrupar-productos @productos)]\r\n              (for [[nombre lista-productos] productos-agrupados]\r\n                ^{:key nombre}\r\n                [:li.col-12 {:class \"productosLI\"}\r\n                 [:div {:class \"producto-info\"}\r\n                  [:div\r\n                   [:span {:class \"negrita\"} nombre] \r\n                   (let [primer-producto (first lista-productos)\r\n                         descripcion-limpia (str/trim (:description primer-producto))]\r\n                     [:p {:class \"description\"}\r\n                      (if (empty? descripcion-limpia)\r\n                        \" \"\r\n                        descripcion-limpia)])]\r\n                  (for [producto lista-productos]\r\n                    ^{:key (:id producto)}\r\n                    [:div {:class \"producto-item\"} ;; Div donde en su interior ira todo el contenido de cada producto\r\n                     [:div {:class \"precio-racion\"} ;; Contenedor que agrupa precio y raci\u00f3n\r\n                      [:span {:class \"precio\"} (str (:precio producto) \"\u20ac \")]\r\n                      (let [tipo-porcion (:tipo_porcion producto)\r\n                            producto-id (:id producto)]  ;; Se guarda el ID de producto, al dar en las imagenes, saldra un alert en el navegador para ver el id\r\n                        (cond\r\n                          (= tipo-porcion \"Media raci\u00f3n\")\r\n                          [:img {:class \"racion\"\r\n                                 :src \"/imgs/medio-circulo.png\"\r\n                                 :alt \"Raci\u00f3n completa\"\r\n                                 :style {:cursor \"pointer\"}\r\n                                 :on-click #(js/alert (str \"ID del producto: \" producto-id))}]\r\n                          (= tipo-porcion \"Raci\u00f3n completa\")\r\n                          [:img {:class \"racion\"\r\n                                 :src \"/imgs/completo-circulo.png\"\r\n                                 :alt \"Raci\u00f3n completa\"\r\n                                 :style {:cursor \"pointer\"}\r\n                                 :on-click #(js/alert (str \"ID del producto: \" producto-id))}]\r\n                          (= tipo-porcion \"Por unidad\")\r\n                          [:img {:class \"racion\"\r\n                                 :src \"/imgs/unidad.png\"\r\n                                 :alt \"/Unidad\"\r\n                                 :style {:cursor \"pointer\"}\r\n                                 :on-click #(js/alert (str \"ID del producto: \" (:id producto)))}]\r\n                          (= tipo-porcion \"\")\r\n                          [:img {:class \"racion\"\r\n                                 :src \"/imgs/unidad.png\"\r\n                                 :alt \"\"\r\n                                 :style {:cursor \"pointer\"}\r\n                                 :on-click #(js/alert (str \"ID del producto: \" producto-id))}]\r\n                          :else [:span (str \"Tipo: \" tipo-porcion)]))]])]]))])]]])}))\r\n\r\n\r\n;; Inicio de la aplicaci\u00f3n\r\n(defn init []\r\n  (dom/render [page] (.getElementById js/document \"app\")))\r\n(init)\r\n"]}