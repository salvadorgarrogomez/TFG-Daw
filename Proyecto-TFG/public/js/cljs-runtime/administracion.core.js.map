{"version":3,"sources":["administracion/core.cljs"],"mappings":"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","names":["js/administracion","js/administracion.core","js/administracion.core.logged-in?","administracion.core/logged-in?","reagent.core.atom","js/administracion.core.loading?","administracion.core/loading?","js/administracion.core.usuario","administracion.core/usuario","js/administracion.core.contrasenia","administracion.core/contrasenia","administracion.core/sesion-verificada?","js/administracion.core.datos-usuario","administracion.core/datos-usuario","js/administracion.core.auth-token","administracion.core/auth-token","js/administracion.core.mostrar-productos?","administracion.core/mostrar-productos?","js/administracion.core.mostrar-categorias?","administracion.core/mostrar-categorias?","administracion.core/categoria-seleccionada","js/administracion.core.categoria-busqueda","administracion.core/categoria-busqueda","js/administracion.core.producto-busqueda","administracion.core/producto-busqueda","js/administracion.core.productos","administracion.core/productos","administracion.core/verificar-sesion","ajax.core.GET","response","usuario","cljs.core/reset!","js/localStorage.setItem","app.state/set-rol","_","administracion.core/render-categorias","cljs.core/deref","p1__26883#","texto","clojure.string/lower-case","categorias-filtradas","p1__26882#","cljs.core.filter","clojure.string/includes?","app.db/categorias","iter__5480__auto__","s__26900","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__26902","cljs.core/chunk-buffer","i__26901","map__26922","cljs.core/-nth","cljs.core/--destructure-map","cljs.core.get","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__26899","cljs.core/chunk-rest","map__26949","cljs.core/first","cljs.core/cons","cljs.core/rest","id","nombre","descripcion","activo","js/location","app.db/activo-categoria","administracion.core/render-productos","categoria","productos-filtrados","app.db/list-productos","p1__26957#","p1__26959#","cljs.core._EQ_","p1__26961#","p1__26964#","productos-ids","cljs.core.map","s__26985","b__26987","i__26986","map__27004","iter__26984","map__27008","cljs.core/empty?","js/alert","app.db/descargar-pdf","s__27014","b__27016","i__27015","map__27018","iter__27013","map__27021","description","precio","nombre_categoria","tipo_plato","tipo_porcion","app.db/activo-producto","administracion.core/login","p1__27029#","p1__27030#","ajax.core.POST","js/console.log","cljs.core.println","p1__27044#","p1__27045#","administracion.core/login-form","e","administracion.core/logout","js/localStorage.removeItem","administracion.core/admin-panel","with-let27063","reagent.ratom/with-let-values","temp__5808__auto__","reagent.ratom/*ratom-context*","c__12240__auto__","reagent.debug/has-console","reagent.debug/tracking","reagent.debug/track-console","js/console","init27064","cljs.core/not","res27065","app.db/fetch-list-productos","app.db/fetch-list-categorias","administracion.core/page","administracion.core/init","reagent.dom.render","js/document","cljs.core/chunk-first"],"sourcesContent":["(ns administracion.core\r\n  (:require [reagent.core :as r]\r\n            [app.state :as state]\r\n            [ajax.core :refer [GET POST]]\r\n            [app.db :refer [list-productos fetch-list-productos categorias eliminar-categoria\r\n                            eliminar-producto fetch-list-categorias activo-producto activo-categoria descargar-pdf]]\r\n            [reagent.dom :as dom]\r\n            [reitit.frontend.easy :as rfe]))\r\n\r\n(defonce logged-in? (r/atom nil))\r\n(defonce loading? (r/atom false))\r\n(defonce usuario (r/atom \"\"))\r\n(defonce contrasenia (r/atom \"\"))\r\n(def sesion-verificada? (r/atom false))\r\n(defonce datos-usuario (r/atom nil))\r\n(defonce auth-token (r/atom nil))\r\n(defonce mostrar-productos? (r/atom false))\r\n(defonce mostrar-categorias? (r/atom false))\r\n\r\n(def categoria-seleccionada (r/atom \"todas\"))\r\n(defonce categoria-busqueda (r/atom \"\"))\r\n(defonce producto-busqueda (r/atom \"\"))\r\n(defonce productos (r/atom []))\r\n\r\n\r\n(defn verificar-sesion []\r\n  (GET \"/api/usuario\"\r\n    {:with-credentials? true\r\n     :response-format :json\r\n     :keywords? true\r\n     :handler (fn [response]\r\n                ;; Devuelve {:usuario {:id xx :nombre \"xxxx\" :rol \"xxxx\"}}\r\n                (let [usuario (:usuario response)]\r\n                  (reset! logged-in? true)\r\n                  (reset! datos-usuario usuario)\r\n                  (js/localStorage.setItem \"id\" (:id usuario))\r\n                  (reset! sesion-verificada? true)\r\n                  (state/set-rol (:rol usuario))))\r\n     :error-handler (fn [_]\r\n                      (reset! logged-in? false)\r\n                      (reset! datos-usuario nil)\r\n                      (reset! sesion-verificada? true))}))\r\n\r\n\r\n(defn render-categorias []\r\n  (let [texto (clojure.string/lower-case @categoria-busqueda)\r\n        categorias-filtradas (filter #(clojure.string/includes?\r\n                                       (clojure.string/lower-case (:nombre %))\r\n                                       texto)\r\n                                     @categorias)]\r\n    [:div.col-12.table-responsive\r\n     [:h4 \"Lista de categorias\"]\r\n     ;; Caja de b\u00fasqueda\r\n     [:input.form-control.mb-3\r\n      {:type \"text\"\r\n       :placeholder \"Buscar categor\u00eda por nombre...\"\r\n       :value @categoria-busqueda\r\n       :on-change #(reset! categoria-busqueda (-> % .-target .-value))}]\r\n     [:table {:class \"table table-striped\"}\r\n      [:thead\r\n       [:tr\r\n        [:th {:class \"id\"} \"ID\"] [:th \"Nombre\"] [:th.d-none.d-sm-table-cell \"Descripcion\"] [:th {:class \"tdButton\"} \"Editar\"] [:th {:class \"tdButton\"} \"Activar/Desactivar\"]]]\r\n      [:tbody\r\n       (for [{:keys [id nombre descripcion activo]} categorias-filtradas]\r\n         ^{:key id}\r\n         [:tr {:class (if activo \"table-success\" \"table-danger\")}\r\n          [:td {:class \"tdButton\"} id] [:td nombre] [:td.d-none.d-sm-table-cell descripcion]\r\n          [:td {:class \"tdButton\"}\r\n           [:button\r\n            {:on-click #(do\r\n                          (set! (.-hash js/location) (str \"/editar/categoria/\" id)))}\r\n            \"Editar\"]]\r\n          [:td {:class \"tdButton\"} [:button\r\n                                    {:on-click #(activo-categoria id)}\r\n                                    \"\u2714\ufe0f/\u274c\"]]])\r\n       [:tr\r\n        [:td\r\n         [:button\r\n          {:on-click\r\n           #(do\r\n              (set! (.-hash js/location) \"/nuevo/categoria\"))\r\n           :class \"nuevo\"}\r\n          \"A\u00f1adir nueva categoria\"]]]]]]))\r\n\r\n(defn render-productos []\r\n  (let [texto (clojure.string/lower-case @producto-busqueda)\r\n        categoria (clojure.string/lower-case @categoria-seleccionada)\r\n        productos-filtrados (->> @list-productos\r\n                                 (filter #(clojure.string/includes?\r\n                                           (clojure.string/lower-case (:nombre %))\r\n                                           texto))\r\n                                 (filter #(or (= categoria \"todas\")\r\n                                              (= (clojure.string/lower-case (:nombre_categoria %))\r\n                                                 categoria))))]\r\n    (let [productos-ids (map :id productos-filtrados)]\r\n      [:div.col-12.table-responsive\r\n       [:div.form-group.mb-3\r\n        [:h4 {:for \"filtro-categoria\"} \"Filtrar por categor\u00eda:\"]\r\n        [:select.form-control\r\n         {:id \"filtro-categoria\"\r\n          :value @categoria-seleccionada\r\n          :on-change #(reset! categoria-seleccionada (-> % .-target .-value))}\r\n         [:option {:value \"todas\"} \"Todas las categor\u00edas\"]\r\n         (for [{:keys [id nombre]} @categorias]\r\n           ^{:key id}\r\n           [:option {:value nombre} nombre])]]\r\n       [:button\r\n        {:on-click\r\n         #(if (empty? productos-ids)\r\n            (js/alert \"No hay productos seleccionados para generar el PDF\")\r\n            (descargar-pdf productos-ids @categoria-seleccionada))\r\n         :class \"pdf\"}\r\n        \"Generar PDF de la categoria seleccionada\"]\r\n       [:h4 \"Lista de productos\"]\r\n       [:input.form-control.mb-3\r\n        {:type \"text\"\r\n         :placeholder \"Buscar producto por nombre...\"\r\n         :value @producto-busqueda\r\n         :on-change #(reset! producto-busqueda (-> % .-target .-value))}]\r\n       [:table {:class \"table table-striped\"}\r\n        [:thead\r\n         [:tr\r\n          [:th {:class \"id\"} \"ID\"] [:th \"Nombre\"] [:th.d-none.d-lg-table-cell \"Descripcion\"] [:th.d-none.d-sm-table-cell \"Precio\"]\r\n          [:th.d-none.d-lg-table-cell \"Categor\u00eda\"] [:th.d-none.d-lg-table-cell \"Tipo de plato\"] [:th \"Tipo de porci\u00f3n\"]\r\n          [:th \"Editar\"] [:th \"Activar/Desactivar\"]]]\r\n        [:tbody\r\n         (for [{:keys [id nombre description precio nombre_categoria tipo_plato tipo_porcion activo]} productos-filtrados]\r\n           ^{:key id}\r\n           [:tr {:class (if activo \"table-success\" \"table-danger\")}\r\n            [:td {:class \"id\"} id] [:td nombre] [:td.d-none.d-lg-table-cell description] [:td.d-none.d-sm-table-cell (str precio \" \u20ac\")]\r\n            [:td.d-none.d-lg-table-cell nombre_categoria] [:td.d-none.d-lg-table-cell tipo_plato] [:td tipo_porcion]\r\n            [:td {:class \"tdButton\"}\r\n             [:button\r\n              {:on-click #(do\r\n                            (set! (.-hash js/location) (str \"/editar/producto/\" id)))}\r\n              \"Editar\"]]\r\n            [:td {:class \"tdButton\"} [:button\r\n                                      {:on-click #(activo-producto id)}\r\n                                      \"\u2714\ufe0f/\u274c\"]]])\r\n         [:tr\r\n          [:td\r\n           [:button\r\n            {:on-click\r\n             #(do\r\n                (set! (.-hash js/location) \"/nuevo/producto\"))\r\n             :class \"nuevo\"}\r\n            \"A\u00f1adir nuevo producto\"]]]]]])))\r\n\r\n\r\n(defn login []\r\n  (POST \"/api/login\"\r\n    {:params {:nombre @usuario\r\n              :contrasenia @contrasenia}\r\n     :format :json\r\n     :response-format :json\r\n     :keywords? true\r\n     :with-credentials? true\r\n     :handler #(do\r\n                 (reset! auth-token nil)\r\n                 (reset! logged-in? true)\r\n                 (reset! datos-usuario {:nombre (:nombre %) :rol (:rol %)})\r\n                 (js/localStorage.setItem \"id\" (:id %))\r\n                 (reset! sesion-verificada? true)\r\n                 (when (= (:rol %) \"admin\")\r\n                   (js/console.log \"Es admin\")))\r\n\r\n     :error-handler #(do\r\n                       (println \"Error en la solicitud: \" %)\r\n                       (js/alert \"Credenciales incorrectas. Prueba de nuevo o ponte en contacto con el Administrador del sistema.\")\r\n                       (reset! loading? false))}))\r\n\r\n\r\n(defn login-form []\r\n  [:div.row {:class \"administracion\"}\r\n   [:div {:class \"entrada\"}\r\n    [:div.col-12\r\n     [:p \"Nombre de usuario: \"\r\n      [:input {:type \"text\"\r\n               :placeholder \"Ingrese su nombre de usuario\"\r\n               :value @usuario\r\n               :on-change #(reset! usuario (-> % .-target .-value))}]]\r\n     [:p \"Contrase\u00f1a: \"\r\n      [:input {:type \"password\"\r\n               :placeholder \"Ingrese su contrase\u00f1a\"\r\n               :value @contrasenia\r\n               :on-change #(reset! contrasenia (-> % .-target .-value))}]]]\r\n    [:div.row {:class \"rowButton\"}\r\n     [:div.col-12\r\n      {:on-key-down (fn [e]\r\n                      (when (= (.-keyCode e) 13)  ;; 13 es el c\u00f3digo de la tecla Enter\r\n                        (do\r\n                          (login)\r\n                          (.reload js/location true))))}\r\n      [:button {:on-click #(do\r\n                             (login)\r\n                             (.reload js/location true))} \"Entrar\"]]]]])\r\n\r\n(defn logout []\r\n  (POST \"/api/logout\"\r\n    {:with-credentials? true\r\n     :handler (fn [_]\r\n                (reset! logged-in? false)\r\n                (reset! datos-usuario {:nombre nil :rol nil})\r\n                (js/localStorage.removeItem \"id\"))\r\n     :error-handler (fn [e]\r\n                      (js/console.log \"Error cerrando sesi\u00f3n\" e))}))\r\n\r\n(defn admin-panel []\r\n  (r/with-let [_ (do\r\n                   (reset! mostrar-productos? false)\r\n                   (reset! mostrar-categorias? false))]\r\n    (cond\r\n      (not @sesion-verificada?)\r\n      [:div \"Cargando sesi\u00f3n...\"]\r\n\r\n      (nil? @datos-usuario)\r\n      [:div.row {:class \"panel\"}\r\n       [:div.col-12 {:class \"panelBotones\"}\r\n        [:h2 \"Aviso importante!!!\"]\r\n        [:p \"No est\u00e1s logeado, debes de cerrar sesi\u00f3n y logearte correctamente.\"]\r\n        [:button {:on-click #(do\r\n                               (logout)\r\n                               (.reload js/location true))} \"Cerrar sesi\u00f3n\"]]]\r\n\r\n      (not @logged-in?)\r\n      [:div \"Acceso denegado.\"]\r\n\r\n      :else\r\n      (let [usuario (:rol @datos-usuario)]\r\n        [:div.row {:class \"panel\"}\r\n         [:div.col-12 {:class \"panelBotones\"}\r\n          [:h2 (str \"Bienvenido/a, \" (:nombre @datos-usuario) \"!\")]\r\n          [:p (str \"Tienes permisos, \" usuario)]\r\n          [:button {:on-click #(do\r\n                                 (logout)\r\n                                 (.reload js/location true))} \"Cerrar sesi\u00f3n\"]\r\n\r\n          ;; Mostrar panel seg\u00fan el rol\r\n          (if (= usuario \"admin\")\r\n            [:div {:class \"botonesAdmin\"}\r\n             [:p \"Eres administrador. Puedes editar el contenido.\"]\r\n             [:button {:on-click #(do\r\n                                    (reset! mostrar-productos? true)\r\n                                    (reset! mostrar-categorias? false)\r\n                                    (fetch-list-productos))} \"Mostrar productos\"]\r\n             [:button {:on-click #(do\r\n                                    (reset! mostrar-categorias? true)\r\n                                    (reset! mostrar-productos? false)\r\n                                    (fetch-list-categorias))} \"Mostrar categor\u00edas\"]\r\n             [:button {:on-click #(set! (.-hash js/location) \"#/imagenes\")} \"Mostrar fotograf\u00edas\"]\r\n             [:button {:on-click #(set! (.-hash js/location) \"#/comandas\")} \"Comandas\"]]\r\n            ;; Si no es admin, solo mostramos bot\u00f3n de comandas\r\n            [:div {:class \"botonesUser\"}\r\n             [:p \"Tienes acceso, puedes apuntar las comandas de los clientes.\"]\r\n             [:button {:on-click #(set! (.-hash js/location) \"#/comandas\")} \"Comandas\"]])]\r\n\r\n         ;; Panel din\u00e1mico\r\n         (when @mostrar-productos? [render-productos])\r\n         (when @mostrar-categorias? [render-categorias])]))))\r\n\r\n\r\n(defn page []\r\n  (cond\r\n    (not @sesion-verificada?) [:p {:class \"administracion\"} \"Verificando sesi\u00f3n...\"]\r\n    @logged-in? [admin-panel]\r\n    :else [login-form]))\r\n\r\n\r\n;; Monta la aplicaci\u00f3n en el DOM\r\n(defn init []\r\n  (verificar-sesion)\r\n  (dom/render [page] (.getElementById js/document \"app\")))\r\n\r\n;; Llamar la funci\u00f3n init para iniciar la aplicaci\u00f3n\r\n(init)\r\n"]}