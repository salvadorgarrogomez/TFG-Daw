{"version":3,"sources":["app/routes.cljs"],"mappings":";AAcA,+BAAA,/BAAMA,sEAAmBC;AAAzB,AACE,GAAI,AAACC;AACHD;;AACA,AACE,MAAA,NAACE;;AACD,8DAAA,9DAACC;;AAFH;;;AAMJ,oBAAA,mFAAA,mFAAA,IAAA,2CAAA,qDAAA,oDAAA,oFAAA,mFAAA,cAAA,2CAAA,qDAAA,iEAAA,0FAAA,mFAAA,YAAA,2CAAA,qDAAA,4DAAA,wFAAA,mFAAA,cAAA,2CAAA,qDAAA,gEAAA,0FAAA,mFAAA,kBAAA,2CAAA,qDAAA,0EAAA,8EAAA,oEAAA,mFAAA,2CAAA,oHAAA,mFAAA,YAAA,2CAAA,qDAAA,4DAAA,kFAAA,oEAAA,mFAAA,2CAAA,oHAAA,mFAAA,YAAA,2CAAA,qDAAA,2DAAA,wEAAA,oEAAA,mFAAA,2CAAA,oHAAA,mFAAA,eAAA,2CAAA,qDAAA,wDAAA,+EAAA,oEAAA,mFAAA,2CAAA,oHAAA,mFAAA,oBAAA,2CAAA,qDAAA,uDAAA,gFAAA,oEAAA,mFAAA,2CAAA,78IAAKC,uYACsBC,sVACgBC,qVACJC,yVACGC,yWAG/BC,kRACgBV,6WAGhBW,sRACgBX,4WAGhBY,4QACgBZ,4WAGhBa,mRACgBb,gXAGhBc,oRACgBd;AAE3B,AAAKe,oBAAO,AAACC,qDAAUX;AAEvB,yBAAA,zBAAMY;AAAN,AACE,mDAAA,WAAAC,9DAACC,iCAAWJ;AAAZ,AAAoB,qDAAAG,9CAACE,sBAAOC;GAA5B,2CAAA,sEAAA;;AACA,GAAM,CAAA,AAAAC,4CAAA,5BAAOD;AAAb,AACE,qDAAA,2CAAA,qDAAA,2CAAA,zLAACD,sBAAOC,wNAA4Bf;;AADtC","names":["app.routes/requiere-permisos","context","app.state/rol-admin?","js/alert","reitit.frontend.easy.push_state","app.routes/routes","home.core/page","categorias.core/page","nosotros.core/page","privacidad.core/page","administracion.core/page","administracion.imagenes/page","comandas.core/page","administracion.nuevo/page","administracion.editar/page","app.routes/router","reitit.frontend.router","app.routes/init-router","p1__15512#","reitit.frontend.easy/start!","cljs.core/reset!","app.state/current-route","cljs.core/deref"],"sourcesContent":["(ns app.routes\r\n  (:require [reitit.frontend.easy :as rfe]\r\n            [reitit.frontend :as rf]\r\n            [home.core :as home]\r\n            [categorias.core :as categorias]\r\n            [privacidad.core :as privacidad]\r\n            [nosotros.core :as nosotros]\r\n            [administracion.core :as administracion]\r\n            [administracion.editar :as editar]\r\n            [administracion.imagenes :as imagenes]\r\n            [administracion.nuevo :as nuevo]\r\n            [comandas.core :as comandas]\r\n            [app.state :refer [current-route]]))\r\n\r\n(defn requiere-permisos [context]\r\n  (if (app.state/rol-admin?)\r\n    context\r\n    (do\r\n      (js/alert \"Acceso restringido solo para usuarios identificados.\")\r\n      (rfe/push-state \"/\")\r\n      nil)))\r\n\r\n\r\n(def routes\r\n  [[\"/\" {:name :home :view home/page}]\r\n   [\"/categorias\" {:name :categorias :view categorias/page}]\r\n   [\"/nosotros\" {:name :nosotros :view nosotros/page}]\r\n   [\"/privacidad\" {:name :productos :view privacidad/page}]\r\n   [\"/administracion\"\r\n    {:name :administracion\r\n     :view administracion/page\r\n     :controllers [{:start requiere-permisos}]}]\r\n   [\"/imagenes\"\r\n    {:name :imagenes\r\n     :view imagenes/page\r\n     :controllers [{:start requiere-permisos}]}]\r\n   [\"/comandas\"\r\n    {:name :comandas\r\n     :view comandas/page\r\n     :controllers [{:start requiere-permisos}]}]\r\n   [\"/nuevo/:tipo\"\r\n    {:name :nuevo\r\n     :view nuevo/page\r\n     :controllers [{:start requiere-permisos}]}]\r\n   [\"/editar/:tipo/:id\"\r\n    {:name :editar\r\n     :view editar/page\r\n     :controllers [{:start requiere-permisos}]}]])\r\n\r\n(def router (rf/router routes))\r\n\r\n(defn init-router []\r\n  (rfe/start! router #(reset! current-route %) {:use-fragment true})\r\n  (when (nil? @current-route)\r\n    (reset! current-route {:data {:view home/page}})))  \r\n\r\n\r\n"]}