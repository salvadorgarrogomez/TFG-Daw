{"version":3,"sources":["home/core.cljs"],"mappings":";AAMA,AAAKA,2BAAe,gDAAA,hDAACC;AAErB,8BAAA,9BAAMC;AAAN,AACE,eAAA,AAAAC,XAAMC,2BAAUC;AAAhB,AACE,GAAI,AAACC,uBAAOF;AAAZ,0FAAA,mDAAA;;AAAA,0FAAA,qEAAA,2CAAA,kDAAA,0BAAA,wDAAA,iBAAA,8DAAA,mBAAA,mFAAA,iFAII,iBAAAG,qBAAA,oDAAAC;AAAA,AAAA,YAAAC,kBAAA,KAAA;AAAA,AAAA,IAAAD,eAAAA;;AAAA,AAAA,IAAAE,qBAAA,AAAAC,cAAAH;AAAA,AAAA,GAAAE;AAAA,AAAA,IAAAF,eAAAE;AAAA,AAAA,GAAA,AAAAE,6BAAAJ;AAAA,IAAAK,kBAu8E2C,AAAAyC,sBAAA9C;IAv8E3CM,qBAAA,AAAAC,gBAAAF;IAAAG,WAAA,AAAAC,uBAAAH;AAAA,AAAA,GAAA,AAAA,iBAAAI,WAAA;;AAAA,AAAA,GAAA,CAAAA,WAAAJ;AAAA,IAAAK,aAAA,AAAAC,eAAAP,gBAAAK;IAAAC,iBAAA,AAAAE,4BAAAF;SAAA,AAAAG,4CAAAH,eAAA,hEAAca;kBAAd,AAAAV,4CAAAH,eAAA,zEAAiBc;oBAAjB,AAAAX,4CAAAH,eAAA,3EAA6Be;gBAA7B,AAAAZ,4CAAAH,eAAA,vEAA2CgB;AAA3C,AAAA,AAAA,AAAAZ,uBAAAP,SAAA,oBAAA,mFAAA,+EAAA,2CAAA,0PAAA,mFAAA,mDAAA,2CAAA,wDAAA,wCAAA,mFAAA,mDAAA,2CAAA,oMAAA,6FAAA,2CAAA,oDACSgB,pgCACqB,6KAAA,SAAA,pLAAI,AAACI,6CAAEJ,GAAG,AAACH,gBAAM,4CAAA,5CAACQ,8FAAQjC,whBAExC,CAAA,+DAAA,XAAa+B,kEAAqBD,0EAClCD;;AALhB,eAAA,CAAAf,WAAA;;;;AAAA;;;;;AAAA,OAAAM,qBAAA,AAAAC,gBAAAT,UAAA,AAAAU,0CAAA,AAAAC,qBAAAnB;;AAAA,OAAAgB,qBAAA,AAAAC,gBAAAT,UAAA;;;AAAA,IAAAY,aAAA,AAAAC,gBAAArB;IAAAoB,iBAAA,AAAAP,4BAAAO;SAAA,AAAAN,4CAAAM,eAAA,hEAAcI;kBAAd,AAAAV,4CAAAM,eAAA,zEAAiBK;oBAAjB,AAAAX,4CAAAM,eAAA,3EAA6BM;gBAA7B,AAAAZ,4CAAAM,eAAA,vEAA2CO;AAA3C,AAAA,OAAAL,eAAA,oBAAA,mFAAA,+EAAA,2CAAA,0PAAA,mFAAA,mDAAA,2CAAA,wDAAA,wCAAA,mFAAA,mDAAA,2CAAA,oMAAA,6FAAA,2CAAA,gEAAA,AAAAJ,0CAAA,AAAAK,eAAAvB,rEACSwB,pgCACqB,6KAAA,SAAA,pLAAI,AAACI,6CAAEJ,GAAG,AAACH,gBAAM,4CAAA,5CAACQ,8FAAQjC,whBAExC,CAAA,+DAAA,XAAa+B,kEAAqBD,0EAClCD;;;AALhB;;;;GAAA,KAAA;;AAAA,AAAA,OAAA1B,mBAAuDH;aAJ3D,mFAAA,oGAAA,2CAAA,qDAAA,2BAAA,qDAAA,SAAA,iEAAA,eAAA,mFAAA,2GAAA,2CAAA,kEAAA,uBAAA,mFAAA,qEAAA,2BAAA,mFAAA,qGAAA,2CAAA,qDAAA,2BAAA,qDAAA,SAAA,iEAAA,eAAA,mFAAA,2GAAA,2CAAA,kEAAA,uBAAA,mFAAA,qEAAA;;;AAkBJ,mCAAA,nCAAMkC;AAAN,AACE,eAAA,AAAAnC,XAAMC,2BAAUC;AAAhB,AACE,GAAI,AAACC,uBAAOF;AAAZ,0FAAA,mDAAA;;AAAA,0FAAA,mDAAA,mFAAA,0DAAA,2CAAA,wDAAA,uBAKI,iBAAAG,qBAAA,yDAAAgC;AAAA,AAAA,YAAA9B,kBAAA,KAAA;AAAA,AAAA,IAAA8B,eAAAA;;AAAA,AAAA,IAAA7B,qBAAA,AAAAC,cAAA4B;AAAA,AAAA,GAAA7B;AAAA,AAAA,IAAA6B,eAAA7B;AAAA,AAAA,GAAA,AAAAE,6BAAA2B;AAAA,IAAA1B,kBAk7E2C,AAAAyC,sBAAAf;IAl7E3CzB,qBAAA,AAAAC,gBAAAF;IAAA2B,WAAA,AAAAvB,uBAAAH;AAAA,AAAA,GAAA,AAAA,iBAAA2B,WAAA;;AAAA,AAAA,GAAA,CAAAA,WAAA3B;AAAA,IAAA4B,aAAA,AAAAtB,eAAAP,gBAAA4B;IAAAC,iBAAA,AAAArB,4BAAAqB;SAAA,AAAApB,4CAAAoB,eAAA,hEAAcV;kBAAd,AAAAV,4CAAAoB,eAAA,zEAAiBT;oBAAjB,AAAAX,4CAAAoB,eAAA,3EAA6BR;gBAA7B,AAAAZ,4CAAAoB,eAAA,vEAA2CP;AAA3C,AAAA,AAAA,AAAAZ,uBAAAiB,SACE,iBACMK,aAAW,CAAA,+DAAA,XAAaV,kEAAqBD;AADnD,AAAA,0FAAA,oHAAA,2CAAA,6DAAA;;AAAA,AAGe,sDAAA,2CAAA,+DAAA,zJAACY,sBAAO9C,wHAAqB6C,4DAAgBZ;;SAH5D,mFAAA,mDAAA,2CAAA,+DAAA,XAIeY,4DAAgBZ;;;AALjC,eAAA,CAAAQ,WAAA;;;;AAAA;;;;;AAAA,OAAAjB,qBAAA,AAAAC,gBAAAe,UAAA,AAAAG,+CAAA,AAAAhB,qBAAAY;;AAAA,OAAAf,qBAAA,AAAAC,gBAAAe,UAAA;;;AAAA,IAAAI,aAAA,AAAAf,gBAAAU;IAAAK,iBAAA,AAAAvB,4BAAAuB;SAAA,AAAAtB,4CAAAsB,eAAA,hEAAcZ;kBAAd,AAAAV,4CAAAsB,eAAA,zEAAiBX;oBAAjB,AAAAX,4CAAAsB,eAAA,3EAA6BV;gBAA7B,AAAAZ,4CAAAsB,eAAA,vEAA2CT;AAA3C,AAAA,OAAAL,eACE,iBACMe,aAAW,CAAA,+DAAA,XAAaV,kEAAqBD;AADnD,AAAA,0FAAA,oHAAA,2CAAA,6DAAA;;AAAA,AAGe,sDAAA,2CAAA,+DAAA,zJAACY,sBAAO9C,wHAAqB6C,4DAAgBZ;;SAH5D,mFAAA,mDAAA,2CAAA,+DAAA,XAIeY,4DAAgBZ;KALjC,AAAAU,+CAAA,AAAAZ,eAAAQ;;;AAAA;;;;GAAA,KAAA;;AAAA,AAAA,OAAAhC,mBAAuDH;aAQxD,kBAAA,AAAAD,2CAAA,AAAA,mFAAA,iGAAA,mFAAA,8EAAA,mFAAA,mDAAA,2CAAA,iLAAA,2LAAA,mFAAA,8EAAA,2CAAA,6DAAA,tpCAAOH,qlBAGS,AAAA,kFAAA,AAAAG,gBAAOH,4EACP,AAAA,+EAAA,AAAAG,gBAAOH;AAJvB,AAKmC,sDAAA,/CAAC8C,sBAAO9C;WAL3C,4BAAA;;;AAQP,iBAAA,jBAAM+C;AAAN,AACE,+DAAA,2CAAA,nGAACC,uLAEC;AAAA,AACE,YAAA,ZAACC;;AACD,OAACC;GAJL,yEAME;AAAA,AAAA,0FAAA,0DAAA,mFAAA,gEAAA,2CAAA,wDAAA,oBAAA,mFAAA,iDAAA,wCAAA,uHAAA,pCAIKhD,uHACAoC;;;AAGT,iBAAA,jBAAMa;AAAN,AACE,wDAAA,jDAACC,oIAAYL,uBAAM,wBAAA,xBAAiBM;;AACtC,AAACF","names":["home.core/selected-image","reagent.core.atom","home.core/imagenes-carrusel","cljs.core/deref","imagenes","app.db/imagenes","cljs.core/empty?","iter__5480__auto__","s__13273","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__13275","cljs.core/chunk-buffer","i__13274","map__13276","cljs.core/-nth","cljs.core/--destructure-map","cljs.core.get","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__13272","cljs.core/chunk-rest","map__13277","cljs.core/first","cljs.core/cons","cljs.core/rest","id","descripcion","imagen_base64","mime_type","cljs.core._EQ_","cljs.core.map","home.core/mostrar-imagenes-todas","s__13279","b__13281","i__13280","map__13282","iter__13278","map__13283","base64-src","cljs.core/reset!","home.core/page","reagent.core.create_class","js/console.log","app.db/cargar-imagenes","home.core/init","reagent.dom.render","js/document","cljs.core/chunk-first"],"sourcesContent":["(ns home.core\r\n  (:require [reagent.core :as r]\r\n            [reagent.dom :as dom]\r\n            [cljs-http.client :as http]\r\n            [app.db :as db]))\r\n\r\n(def selected-image (r/atom nil))\r\n\r\n(defn imagenes-carrusel []\r\n  (let [imagenes @db/imagenes]  ;; Obtencion de las im\u00e1genes desde el atom\r\n    (if (empty? imagenes)\r\n      [:div \"No se encontraron im\u00e1genes.\"]\r\n      [:div.carousel {:id \"carouselExampleControls\" :class \"carousel slide\" :data-ride \"carousel\"}\r\n       [:div.carousel-inner\r\n        (for [{:keys [id descripcion imagen_base64 mime_type]} imagenes]\r\n          ^{:key id}\r\n          [:div.carousel-item {:class (if (= id (first (map :id imagenes))) \"active\" \"\")}\r\n           [:div {:class \"d-flex justify-content-center\"}  ;; Asegura que la imagen est\u00e9 centrada en el carrusel\r\n            [:img {:src (str \"data:\" mime_type \";base64,\" imagen_base64)\r\n                   :alt descripcion}]]])]\r\n       ;; Botones laterales del carrusel, para navegar entre las im\u00e1genes\r\n       [:button.carousel-control-prev {:href \"#carouselExampleControls\" :role \"button\" :data-slide \"prev\"}\r\n        [:span.carousel-control-prev-icon {:aria-hidden \"true\"}]\r\n        [:span.sr-only \"Previous\"]]\r\n       [:button.carousel-control-next {:href \"#carouselExampleControls\" :role \"button\" :data-slide \"next\"}\r\n        [:span.carousel-control-next-icon {:aria-hidden \"true\"}]\r\n        [:span.sr-only \"Next\"]]])))\r\n\r\n(defn mostrar-imagenes-todas []\r\n  (let [imagenes @db/imagenes]\r\n    (if (empty? imagenes)\r\n      [:div \"No se encontraron im\u00e1genes.\"]\r\n      [:div\r\n       ;; Galer\u00eda de im\u00e1genes\r\n       [:div.row {:class \"containerImg\"}\r\n        (for [{:keys [id descripcion imagen_base64 mime_type]} imagenes]\r\n          ^{:key id}\r\n          (let [base64-src (str \"data:\" mime_type \";base64,\" imagen_base64)]\r\n            [:div.col-12.col-md-5.conjuntoImagenes\r\n             {:on-click #(reset! selected-image {:src base64-src :alt descripcion})}\r\n             [:img {:src base64-src :alt descripcion}]]))]\r\n\r\n       ;; Modal\r\n       (when @selected-image\r\n         [:div.modal-container.active\r\n          [:div.modal-content\r\n           [:img {:src (:src @selected-image)\r\n                  :alt (:alt @selected-image)}]\r\n           [:button.close-btn {:on-click #(reset! selected-image nil)} \"X\"]]])])))\r\n\r\n;; Funcion page para estructurar la pagina\r\n(defn page []\r\n  (r/create-class\r\n   {:component-did-mount\r\n    (fn []\r\n      (js/console.log \"Componente montado. Llamando a cargar-imagenes...\")\r\n      (db/cargar-imagenes))\r\n    :reagent-render\r\n    (fn []\r\n      [:div.row\r\n       [:div.col-12 {:class \"container\"}\r\n        [:h3 \"Galer\u00eda de Im\u00e1genes\"]\r\n        [imagenes-carrusel]\r\n        [mostrar-imagenes-todas]]])}))\r\n\r\n;; Inicializa la app\r\n(defn init []\r\n  (dom/render [page] (.getElementById js/document \"app\")))\r\n(init)\r\n"]}